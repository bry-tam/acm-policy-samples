---
apiVersion: observability.open-cluster-management.io/v1beta2
kind: MultiClusterObservability
metadata:
  name: observability
spec:
  observabilityAddonSpec: {}

  storageConfig:
    metricObjectStorage:
      name: thanos-object-storage
      key: thanos.yaml
      tlsSecretName: noobaa-cert
      tlsSecretMountPath: /etc/minio/certs

  nodeSelector:
    node-role.kubernetes.io/{{ hasNodesWithExactRoles "infra" | ternary "infra" "worker" }}: ""
  tolerations:
  - operator: Exists
    key: node-role.kubernetes.io/infra
